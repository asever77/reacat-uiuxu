# ğŸš€ APP ROUTER ë””ë ‰í† ë¦¬ êµ¬ì¡°

app routerì—ì„œëŠ” layout.tsxëŠ” ìƒì†ì´ ë˜ëŠ” êµ¬ì¡°  
layout > template > page

---

## íŒŒì¼ë„¤ì„

- layout.tsx : ì—¬ëŸ¬ í˜ì´ì§€ ê°„ì— ê³µìœ ë˜ëŠ” UI (í—¤ë”, ì‚¬ì´ë“œë°” ë“±). ìƒíƒœê°€ ìœ ì§€ë©ë‹ˆë‹¤.
- template.tsx : Layoutê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, ê²½ë¡œ ì´ë™ ì‹œë§ˆë‹¤ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„± (ìƒíƒœ ì´ˆê¸°í™”).

- page.tsx : í•´ë‹¹ ê²½ë¡œì˜ ìœ ë‹ˆí¬í•œ UI. ì‹¤ì œ ë Œë”ë§ë˜ëŠ” í˜ì´ì§€ ì½˜í…ì¸ ì…ë‹ˆë‹¤.
- loading.tsx : í•´ë‹¹ ì„¸ê·¸ë¨¼íŠ¸ì˜ ì½˜í…ì¸ ê°€ ë¡œë“œë˜ëŠ” ë™ì•ˆ ë³´ì—¬ì¤„ ë¡œë”© UI (React Suspense).
- default.tsx : Parallel Routes(ë³‘ë ¬ ë¼ìš°íŠ¸) ì‚¬ìš© ì‹œ, ë§¤ì¹­ë˜ì§€ ì•Šì„ ë•Œ ë³´ì—¬ì¤„ ê¸°ë³¸ UI.

- not-found.tsx : notFound() í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ê±°ë‚˜ ì¼ì¹˜í•˜ëŠ” ê²½ë¡œê°€ ì—†ì„ ë•Œ ë³´ì—¬ì¤„ UI (404).
- error.tsx : ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œìƒ ì‹œ ë³´ì—¬ì¤„ ì—ëŸ¬ UI (React Error Boundary).
- global-error.tsx : ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ(app/layout.tsx)ì˜ ì—ëŸ¬ë¥¼ ì¡ëŠ” ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬.

- route.ts : UIê°€ ì•„ë‹Œ API ì—”ë“œí¬ì¸íŠ¸ (GET, POST ë“±)ë¥¼ ì •ì˜.
  - ì˜ˆ: app/users/route.tsì™€ app/users/page.tsxëŠ” ê°™ì´ ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. APIëŠ” ë³´í†µ app/api/users/route.ts ì²˜ëŸ¼ ë³„ë„ ê²½ë¡œë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

## ë””ë ‰í† ë¦¬ íƒ€ì…

- Route Groups (() ê´„í˜¸ ì‚¬ìš©) - í´ë”ëª… ë¬´ì‹œ
  - ë¼ìš°íŒ… ì‹œìŠ¤í…œì— í¬í•¨ë˜ì§€ë§Œ URL ê²½ë¡œì—ì„œ ì œì™¸
  - í˜ì´ì§€ ì¡°ì§í™”ë¥¼ ìœ„í•œ ë…¼ë¦¬ì  ê·¸ë£¹í•‘
  - ê·¸ë£¹ ë‚´ë¶€ì˜ page.tsxëŠ” ì—¬ì „íˆ ì ‘ê·¼ ê°€ëŠ¥
- Dynamic Routes ([] ëŒ€ê´„í˜¸ ì‚¬ìš©)
  - ë¼ìš°íŒ… ì‹œìŠ¤í…œì—ì„œ ì™„ì „íˆ ì œì™¸
  - ë‚´ë¶€ íŒŒì¼ë“¤ì€ URLë¡œ ì ˆëŒ€ ì ‘ê·¼ ë¶ˆê°€
  - ì»´í¬ë„ŒíŠ¸, ìœ í‹¸ë¦¬í‹° ë“± ë‚´ë¶€ ì½”ë“œ ì €ì¥ìš©
- Private Folders (\_)
  - ì£¼ë¡œ page.tsxì—ì„œ ì‚¬ìš©
  - ëª©ì : ë‚´ë¶€ íŒŒì¼ ì¡°ì§í™”
  - íŠ¹ì§•: URL ì ‘ê·¼ ë¶ˆê°€
  - ì‚¬ìš© ì‚¬ë¡€: ì»´í¬ë„ŒíŠ¸, ìœ í‹¸ë¦¬í‹°, ìŠ¤íƒ€ì¼
- Parallel Routes (@)
  - ì£¼ë¡œ layout.tsxì—ì„œ ì‚¬ìš©
  - ëª©ì : ë™ì‹œì— ì—¬ëŸ¬ ì»¨í…ì¸  ë Œë”ë§
  - íŠ¹ì§•: ê°™ì€ ë ˆì´ì•„ì›ƒì—ì„œ ë³‘ë ¬ ì²˜ë¦¬
  - ì‚¬ìš© ì‚¬ë¡€: ëª¨ë‹¬, ì‚¬ì´ë“œë°”, ëŒ€ì‹œë³´ë“œ

deep link ì§€ì›  
(.)  
/dashboard/(.)detail/123 ->  
ìµœì¢… URL: /dashboard/detail/123

(..)  
/settings/profile/(..)billing ->  
ìµœì¢… URL: /settings/billing

ë‘ í‘œê¸°ë²•ì€ "ê°€ë¡œì±„ê¸°ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œ ì´ë™í•  ìµœì¢… ê²½ë¡œ"ë¥¼ ì§€ì •í•´ ì¤ë‹ˆë‹¤.

## modal typeì— ë”°ë¥¸ êµ¬ì„±

- URL ì—°ë™ í•„ìš” > @modal (Parallel Routes) : URL ìƒíƒœ ê´€ë¦¬, ë’¤ë¡œê°€ê¸° ì§€ì›
  - full í˜ì´ì§€ ëª¨ë‹¬
- ë³µì¡ + í˜ì´ì§€ì „ìš© > \_components/modals/ : ë…ë¦½ì„±, ì½”ë¡œì¼€ì´ì…˜
  - í˜ì´ì§€ë‚´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë³µì¡í•œ êµ¬ì¡°ì˜ ëª¨ë‹¬
- ê°„ë‹¨ + ì „ì—­ì‚¬ìš© > providers/ : ì¼ê´€ì„±, í¸ì˜ì„±
  - alertì£¼ë¡œ ì‚¬ìš© (pageì—ì„œ ë‚´ìš©ì „ë‹¬)
- ë³µì¡ + ì—¬ëŸ¬ í˜ì´ì§€ > components/modals/ : ì¬ì‚¬ìš©ì„±
  - ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë‹¬

## "use client" ì‚¬ìš©

**í•„ìš”í•œ ê²½ìš°**

1. ìƒíƒœ ê´€ë¦¬ (useState, useReducer)
2. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (onClick, onChange ë“±)
3. ë¸Œë¼ìš°ì € ì „ìš© API (localStorage, window ë“±)
4. useEffect, useLayoutEffect
5. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ë¸Œë¼ìš°ì € ì „ìš©)

**ë¶ˆí•„ìš”í•œ ê²½ìš°**

1. ì •ì  ì½˜í…ì¸ ë§Œ ë Œë”ë§
2. ì„œë²„ ë°ì´í„° í˜ì¹­ (async/await)
3. ë‹¨ìˆœ prop ì „ë‹¬

**ì„œë²„ ì»´í¬ë„ŒíŠ¸ ì¥ì **

- ë¹ ë¥¸ ì´ˆê¸° ë¡œë“œ - ì„œë²„ì—ì„œ ë¯¸ë¦¬ ë Œë”ë§
- SEO ì¹œí™”ì  - ê²€ìƒ‰ì—”ì§„ì´ ì½˜í…ì¸ ë¥¼ ë°”ë¡œ ì½ì„ ìˆ˜ ìˆìŒ
- ë³´ì•ˆì„± - API í‚¤ ë“± ë¯¼ê°í•œ ì •ë³´ë¥¼ ì„œë²„ì—ì„œë§Œ ì²˜ë¦¬
- ë²ˆë“¤ í¬ê¸° ê°ì†Œ - ë¸Œë¼ìš°ì €ë¡œ ì „ì†¡ë˜ëŠ” JavaScript ì½”ë“œ ê°ì†Œ

ğŸ”´ í˜„ì¬ ë°©ì‹ (ì „ì²´ í´ë¼ì´ì–¸íŠ¸):
ì„œë²„ â†’ ë¸Œë¼ìš°ì €: ë¹ˆ HTML + ëª¨ë“  JavaScript
ë¸Œë¼ìš°ì €: JavaScript ì‹¤í–‰ â†’ ì „ì²´ ë Œë”ë§
SEO: ê²€ìƒ‰ì—”ì§„ì´ ë¹ˆ í˜ì´ì§€ë§Œ ë´„

ğŸŸ¢ ê°œì„ ëœ ë°©ì‹ (í•˜ì´ë¸Œë¦¬ë“œ):
ì„œë²„ â†’ ë¸Œë¼ìš°ì €: ì™„ì„±ëœ HTML + í•„ìš”í•œ JavaScriptë§Œ
ë¸Œë¼ìš°ì €: ì¼ë¶€ë§Œ hydration
SEO: ê²€ìƒ‰ì—”ì§„ì´ ì™„ì „í•œ ì½˜í…ì¸ ë¥¼ ë´„

## MAP êµ¬ì¡°

```
ğŸ“‚.storybook
â”‚  â”œâ”€â”€ğŸ“„main.ts
â”‚  â”œâ”€â”€ğŸ“„preview.ts
â”‚  â””â”€â”€ğŸ“„vitest.setup.ts
ğŸ“‚public
â”‚  â”œâ”€â”€ğŸ“‚images
â”‚  â””â”€â”€ğŸ“„mockServiceWorker.js
ğŸ“‚src
â”œâ”€â”€ğŸ“‚app
â”‚  â”œâ”€â”€ğŸ“‚(page)
â”‚  â”‚  â”œâ”€â”€ğŸ“„layout.tsx  # Root > page Layout
â”‚  â”‚  â”œâ”€â”€ğŸ“‚(main)
â”‚  â”‚  â”‚  â”œâ”€â”€ğŸ“„layout.tsx  # Root > page > main Layout
â”‚  â”‚  â”‚  â””â”€â”€ğŸ“„page.tsx
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ğŸ“‚(sub1)
â”‚  â”‚  â”‚  â”œâ”€â”€ğŸ“‚sub1-1
â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€ğŸ“‚_components
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€ğŸ“„InteractiveButton.tsx
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€â”€ğŸ“„InnerComponent.tsx
â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€ğŸ“‚@modal
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€ğŸ“‚modal-name1
â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€â”€ğŸ“„page.tsx
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€ğŸ“‚modal-name2
â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€â”€ğŸ“„page.tsx
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€â”€ğŸ“„default.tsx  # @modal ì•ˆì˜ í˜ì´ì§€ê°€ ì—†ëŠ” ê²½ìš° ì„¤ì •
â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€ğŸ“„layout.tsx  # Root > page > sub1-1 Layout
â”‚  â”‚  â”‚  â”‚  â””â”€â”€ğŸ“„page.tsx
â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€ğŸ“‚(sub1-2)
â”‚  â”‚  â”œâ”€â”€ğŸ“‚(sub2)
â”‚  â”‚  â”‚  â”œâ”€â”€ğŸ“‚(sub2-1)
â”‚  â”‚  â”‚  â””â”€â”€ğŸ“‚(sub2-2)
â”‚  â”‚  â””â”€â”€ğŸ“‚(sub3)
â”‚  â”‚
â”‚  â”œâ”€â”€â­favicon.tsx
â”‚  â”œâ”€â”€ğŸ¨globals.css
â”‚  â”œâ”€â”€ğŸ“„layout.tsx  # Root Layout
â”‚  â”œâ”€â”€ğŸ“„error.tsx
â”‚  â”œâ”€â”€ğŸ“„global-error.tsx  # Root error
â”‚  â””â”€â”€ğŸ“„not-found.tsx  # 404 í˜ì´ì§€
â”‚
â”œâ”€â”€ğŸ“‚components  # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚  â”œâ”€â”€ğŸ“‚contents
â”‚  â”‚  â”œâ”€â”€ğŸ“„Typo.tsx  # ì»¨í…ì¸  ì»´í¬ë„ŒíŠ¸
â”‚  â”‚  â””â”€â”€ğŸ“„index.ts  # ë°°ëŸ´ íŒŒì¼
â”‚  â”‚
â”‚  â”œâ”€â”€ğŸ“‚icons
â”‚  â”‚  â”œâ”€â”€ğŸ“„CommonIcons.tsx  # SVG ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸
â”‚  â”‚  â””â”€â”€ğŸ“„index.ts  # ë°°ëŸ´ íŒŒì¼
â”‚  â”‚
â”‚  â”œâ”€â”€ğŸ“‚layout
â”‚  â”‚  â”œâ”€â”€ğŸ“„Footer.tsx
â”‚  â”‚  â””â”€â”€ğŸ“„Header.tsx
â”‚  â”‚
â”‚  â”œâ”€â”€ğŸ“‚ui  # shadcn ì„¤ì¹˜ëœ íŒŒì¼ ìµœì¢… ì‚¬ìš© ì•ˆí•¨
â”‚  â””â”€â”€ğŸ“‚uiux  # shadcn ìˆ˜ì •í•œ íŒŒì¼ë¡œ ìµœì¢… ì‚¬ìš© í•  ì»´í¬ë„ŒíŠ¸
â”‚     â”œâ”€â”€ğŸ“„accordion.tsx  # shadcn-custom ì»´í¬ë„ŒíŠ¸
â”‚     â””â”€â”€ğŸ“„index.ts  # ë°°ëŸ´ íŒŒì¼
â”‚
â”œâ”€â”€ğŸ“‚mocks  # mock ë°ì´í„°
â”‚  â”œâ”€â”€ğŸ“„userHandlers.ts
â”‚  â””â”€â”€ğŸ“„index.ts  # ë°°ëŸ´ íŒŒì¼
â”‚
â”œâ”€â”€ğŸ“‚providers  # mock ë°ì´í„°
â”‚  â””â”€â”€ğŸ“„StoreProvider.tsx
â”‚
â”œâ”€â”€ğŸ“‚stores
â”‚  â”œâ”€â”€ğŸ“‚hooks
â”‚  â”‚  â””â”€â”€ğŸ“„index.ts
â”‚  â””â”€â”€ğŸ“‚slice
â”‚     â”œâ”€â”€ğŸ“„{name}Slice.ts
â”‚     â”œâ”€â”€ğŸ“„index.ts
â”‚     â””â”€â”€ğŸ“„index.ts
â”‚
â”œâ”€â”€ğŸ“‚stories  # stroybook í˜ì´ì§€
â”‚
â””â”€â”€ğŸ“‚styles
   â””â”€â”€ğŸ“„tokens.css
```
